!function(f){function n(s,o,i){var r;return function(){var t=this,e=arguments,n=i&&!r;clearTimeout(r),r=setTimeout(function(){r=null,i||s.apply(t,e)},o),n&&s.apply(t,e)}}var s=function(t,e){var n=this;n.defaultOptions={snapOffset:0,snapAlignment:"left",snapLeeway:5,preventEdgeSnapping:!0,buttonType:"arrows",fadeObscured:!1,fadeOpacity:.5,animationLength:250,debounce:200};var s=f(t).data("carousel")||{};n.options=f.extend({},n.defaultOptions,s,e),n.carousel=t,n.$carousel=f(t),n.$container=n.$carousel.parent(),n.$carouselItems=n.$carousel.children(),n.viewportChangeHandler=f.proxy(n.viewportChangeHandler,n),n.scrollHandler=f.proxy(n.scrollHandler,n),n.init()};s.prototype.init=function(){var i=this;console.log(i.$container),"arrows"===i.options.buttonType?(f("<button/>",{class:"wc__next-button wc__button",text:"next",click:function(){i.scrollHandler("right")}}).appendTo(i.$carousel),f("<button/>",{class:"wc__prev-button wc__button",text:"prev",click:function(){i.scrollHandler("left")}}).prependTo(i.$carousel)):"indicators"===i.options.buttonType&&(f("<div/>",{class:"wc__indicator-container"}).appendTo(i.$carousel),i.$carouselItems.each(function(s,o){f("<button/>",{class:"wc__indicator-button",text:s+1,click:function(){var t,e,n=f(o);"left"===i.options.snapAlignment?(e=parseInt(n.css("marginLeft")),t=i.childrenLeftBounds[s]+i.options.snapOffset-e):"right"===i.options.snapAlignment?(e=parseInt(n.css("marginRight")),t=i.childrenLeftBounds[s]+n.outerWidth()+i.options.snapOffset+e-i.carouselWidth):"center"===i.options.snapAlignment&&(t=i.childrenLeftBounds[s]+n.outerWidth()/2+i.options.snapOffset-i.carouselWidth/2),i.$carousel.animate({scrollLeft:t},i.options.animationLength)}}).appendTo(f(".wc__indicator-container"))})),i.viewportChangeHandler();var t=n(i.viewportChangeHandler,i.options.debounce),e=n(i.scrollHandler,i.options.debounce);f(window).on("resize",t),f(window).on("orientationchange",t),i.$carousel.on("scroll",e)},s.prototype.viewportChangeHandler=function(){var n=this;n.carouselWidth=n.$carousel.width(),n.carouselCenter=n.carouselWidth/2,n.carouselOffset=n.$carousel.offset().left,n.carouselScrollWidth=n.carousel.scrollWidth,n.childrenLeftBounds=n.$carouselItems.map(function(t,e){return f(e).offset().left+n.$carousel.scrollLeft()-n.carouselOffset}).get()},s.prototype.scrollHandler=function(a){"string"!=typeof a&&(a=null);var l,c,p=this,u=p.$carousel.scrollLeft();if(p.$carouselItems.each(function(t,e){var n=f(e).offset().left-p.carouselOffset,s=n+f(e).outerWidth();if(!0===p.options.fadeObscured&&(n<=-1||s>=p.carouselWidth+1?f(e).css("opacity",p.options.fadeOpacity):f(e).css("opacity",1)),"center"===p.options.snapAlignment){var o=p.alignCenter(t,e,u,n,l,a);o&&(l=o.closestDistance,c=o.scrollAdjust,o.snapIndex)}else if("left"===p.options.snapAlignment){var i=p.alignLeft(t,e,u,n,l,a);i&&(l=i.closestDistance,c=i.scrollAdjust,i.snapIndex)}else if("right"===p.options.snapAlignment){var r=p.alignRight(t,e,u,s,l,a);r&&(l=r.closestDistance,c=r.scrollAdjust,r.snapIndex)}}),!a&&(p.options.preventEdgeSnapping&&u<=2||p.options.preventEdgeSnapping&&u+p.carouselWidth>=p.carouselScrollWidth-2))return!1;l>=p.options.snapLeeway&&p.$carousel.animate({scrollLeft:c},p.options.animationLength)},s.prototype.alignCenter=function(t,e,n,s,o,i){var r=this,a=s+f(e).outerWidth()/2,l=r.carouselCenter-a,c=Math.abs(l);if("left"===i){if(0<Math.floor(l)&&(void 0===o||c<o))return{closestDistance:c,scrollAdjust:n-c+r.options.snapOffset,snapIndex:t}}else if("right"===i){if(Math.ceil(l)<0&&(void 0===o||c<o))return{closestDistance:c,scrollAdjust:n+c+r.options.snapOffset,snapIndex:t}}else if(0<a&&a<=r.carouselWidth&&(void 0===o||c<=o))return{closestDistance:c,scrollAdjust:n-l+r.options.snapOffset,snapIndex:t}},s.prototype.alignLeft=function(t,e,n,s,o,i){var r=parseInt(f(e).css("marginLeft")),a=Math.abs(s);if("left"===i){if(Math.ceil(s)-r<0&&(void 0===o||a<o))return{closestDistance:a,scrollAdjust:n-a+this.options.snapOffset-r,snapIndex:t}}else if("right"===i){if(0<Math.floor(s)-r&&(void 0===o||a<o))return{closestDistance:a,scrollAdjust:n+a+this.options.snapOffset-r,snapIndex:t}}else if(void 0===o||a<=o)return{closestDistance:a,scrollAdjust:n+s+this.options.snapOffset-r,snapIndex:t}},s.prototype.alignRight=function(t,e,n,s,o,i){var r=this.carouselWidth-s,a=parseInt(f(e).css("marginRight")),l=Math.abs(r);if("left"===i){if(0<Math.floor(r)-a&&(void 0===o||l<o))return{closestDistance:l,scrollAdjust:n-l+this.options.snapOffset+a,snapIndex:t}}else if("right"===i){if(Math.ceil(r)-a<0&&(void 0===o||l<o))return{closestDistance:l,scrollAdjust:n+l+this.options.snapOffset+a,snapIndex:t}}else if(void 0===o||l<=o)return{closestDistance:l,scrollAdjust:n-r+this.options.snapOffset+a,snapIndex:t}},f.fn.scrollCarousel=function(){for(var t=arguments[0],e=(Array.prototype.slice.call(arguments,1),this.length),n=0;n<e;n++){if("object"!=typeof t&&void 0!==t)throw new Error("Type of argument is not object");this[n].scrollCarousel=new s(this[n],t)}return this}}(jQuery),$(".carousel").scrollCarousel({snapAlignment:"left"});